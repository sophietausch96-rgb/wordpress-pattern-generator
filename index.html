<body class="flex">
  <iframe src="https://playground.wordpress.net/?mode=seamless&blueprint-url=./blueprint.json"></iframe>
  <div id="chat">
    <h2>ðŸ¤– OpenRouter Bot</h2>
    <div id="messages"></div>
    <input id="chatInput" placeholder="Dein Befehl..." />
    <button id="sendBtn">Senden</button>
  </div>
</body>
<script>
const input = document.getElementById('chatInput');
const messages = document.getElementById('messages');
document.getElementById('sendBtn').onclick = async () => {
  const userText = input.value;
  messages.innerHTML += `<p><b>Du:</b> ${userText}</p>`;
  input.value = "";
  // API-Call an OpenRouter
  const res = await fetch("https://openrouter.ai/api/v1/chat/completions", {
    method:"POST",
    headers:{
      "Authorization": "Bearer " + localStorage.getItem("openrouter_key"),
      "Content-Type":"application/json"
    },
    body: JSON.stringify({
      model: "openai/gpt-4o-mini",
      messages: [{role:"user", content:userText}]
    })
  });
  const data = await res.json();
  const reply = data.choices?.[0]?.message?.content || "(keine Antwort)";
  messages.innerHTML += `<p><b>Bot:</b> ${reply}</p>`;
};
</script>
